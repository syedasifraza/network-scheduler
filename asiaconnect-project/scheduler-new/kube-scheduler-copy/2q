apiVersion: "kubeflow.org/v1"
kind: "TFJob"
metadata:
  name: tfjob
  labels:
    name: multischeduler-example
    schedulingStrategy: meetup
    serviceName: annotation-second-scheduler
spec:
  tfReplicaSpecs:
    PS:
      replicas: 1
      restartPolicy: Never
      template:
        metadata:
          annotations:
             scheduler.alpha.kubernetes.io/name: annotation-second-scheduler
        spec:
          schedulerName: my-scheduler
          containers:
            - name: tensorflow
              image: asifraza/tf-dist-mnist-testing:latest # asifraza/tensorflow-testing:latest
              resources:
                requests:
                  cpu: 2
                  memory: 1024Mi

    Worker:
      replicas: 2 
      restartPolicy: Never
      template:
        metadata:
          annotations:
             scheduler.alpha.kubernetes.io/name: annotation-second-scheduler
        spec:
          schedulerName: my-scheduler
          containers:
            - name: tensorflow
              image: asifraza/tf-dist-mnist-testing:latest  #asifraza/tensorflow-testing:latest
              resources:
                requests:
                  cpu: 2
                  memory: 1024Mi



